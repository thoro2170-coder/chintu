from collections import Counter
class Library:
    def __init__(self):
        self.member_record = {}
        self.book_record = {}
        
    def add_member(self,member_id,borrowed_count):
        if member_id in self.member_record:
            raise ValueError(f"Member already Exist")
        self.member_record[member_id] = borrowed_count
        
    def add_book(self,book_title,borrow_count):
        if book_title in self.book_record:
            raise ValueError(f"Book already Exist")
        self.book_record[book_title] = borrow_count
    
    def compute_average_books_borrowed(self):
        total = sum(self.book_record.values())
        count = len(self.member_record)
        return total/count if count>0 else 0 
    
    def book_with_highest_and_lowest_borrowing(self):
        if not self.book_record:
            return None,None
        highest= max(self.book_record.items(),key=lambda x:x[1])
        lowest= min(self.book_record.items(),key=lambda x:x[1])
        return highest,lowest
    
    def count_members_with_zero_borrowing(self):
        return sum(1 for count in self.member_record.values() if count==0)
    
    def most_frequently_borrowed_book(self):
        if not self.book_record:
            return None
        count_freq = Counter(self.book_record.values())
        mode_count = count_freq.most_common(1)[0][0]
        return sorted([book for book,count in self.book_record.items() if count==mode_count])

#Example
if __name__=="__main__":
    lib = Library()

    lib.add_member("COSB01",3)
    lib.add_member("COSB02",0)
    lib.add_member("COSB03",5)
    lib.add_member("COSB04",0)

    lib.add_book("Physics",10)
    lib.add_book("Java",10)
    lib.add_book("C++",5)
    lib.add_book("DS",2)

    print("Average books borrowed:",lib.compute_average_books_borrowed())
    highest,lowest = lib.book_with_highest_and_lowest_borrowing()
    print("Book with highest borrowing:",highest)
    print("Book with lowest borrowing:",lowest)
    print("number of members who borrowed 0 book:",lib.count_members_with_zero_borrowing())
    print("Most frequently borrowed book:",lib.most_frequently_borrowed_book())
    
    